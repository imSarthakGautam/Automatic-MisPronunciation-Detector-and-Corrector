{% load static %}

<section class="section-container" data-task="audio-text">
  <div class="card text-interaction">
    <h2>Speak or Type Your Text</h2>

    <div class="audio-input-container">
      <!-- Speak Section -->
      <div class="speak-section">
        <button class="speak-button" id="recordButton">
          <div class="icon-container">
            <i class="fas fa-microphone" id="microphoneIcon"></i>
          </div>
          <span id="buttonLabel">Start Speaking</span>
          <p id="recordingStatus">Press to start speaking...</p>
        </button>

        <audio id="audioPlayback" controls hidden></audio>
      </div>
      <div class="text-section">
        <textarea
          id="textInputForm"
          placeholder="Type here or start speaking..."
          rows="6"
          oninput="this.style.height = ''; this.style.height = this.scrollHeight + 'px'"
        ></textarea>
      </div>
    </div>

    <!-- Unified Submit Button -->
    <button id="submitAudioTextButton" disabled>Submit</button> <!-- Removed classes -->
    {% include "pronouncePerfect/components/transcription.html" with prefix="audioText" %}
  </div>
</section>